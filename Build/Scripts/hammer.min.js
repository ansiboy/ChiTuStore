/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
(function(n,t,i,r){"use strict";function hi(n,t,i){return setTimeout(li(n,i),t)}function it(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function k(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n}function ci(n,t){return k(n,t,!0)}function o(n,t,i){var u=t.prototype,r;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&k(r,i)}function li(n,t){return function(){return n.apply(t,arguments)}}function ai(n,t){return typeof n==fr?n.apply(t?t[0]||r:r,t):n}function er(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function or(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1}function d(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function rt(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function sr(n,t,i){for(var u=[],e=[],r=0,f;r<n.length;)f=t?n[r][t]:n[r],rt(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function dt(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<ur.length;){if(i=ur[f],u=i?i+e:t,u in n)return u;f++}return r}function hu(){return su++}function hr(n){var t=n.ownerDocument;return t.defaultView||t.parentWindow}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){ai(n.options.enable,[n])&&i.handler(t)};this.init()}function vu(n){var t,i=n.options.inputClass;return t=i?i:cu?pi:lu?ri:cr?wi:ii,new t(n,yu)}function yu(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&r-o==0,h=t&(u|e)&&r-o==0;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;pu(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function pu(n,t){var i=n.session,u=t.pointers,e=u.length,f;i.firstInput||(i.firstInput=vr(t));e>1&&!i.firstMultiple?i.firstMultiple=vr(t):e===1&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,s=r?r.center:o.center,h=t.center=yr(u);t.timeStamp=si();t.deltaTime=t.timeStamp-o.timeStamp;t.angle=yi(s,h);t.distance=ti(s,h);wu(i,t);t.offsetDirection=pr(t.deltaX,t.deltaY);t.scale=r?gu(r.pointers,u):1;t.rotation=r?du(r.pointers,u):0;bu(i,t);f=n.element;or(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f}function wu(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};(t.eventType===f||o.eventType===u)&&(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function bu(n,t){var i=n.lastInterval||t,c=t.timeStamp-i.timeStamp,f,o,s,h;if(t.eventType!=e&&(c>au||i.velocity===r)){var l=i.deltaX-t.deltaX,a=i.deltaY-t.deltaY,u=ku(c,l,a);o=u.x;s=u.y;f=ft(u.x)>ft(u.y)?u.x:u.y;h=pr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function vr(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:tt(n.pointers[t].clientX),clientY:tt(n.pointers[t].clientY)},t++;return{timeStamp:si(),pointers:i,center:yr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function yr(n){var t=n.length;if(t===1)return{x:tt(n[0].clientX),y:tt(n[0].clientY)};for(var r=0,u=0,i=0;i<t;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:tt(r/t),y:tt(u/t)}}function ku(n,t,i){return{x:t/n||0,y:i/n||0}}function pr(n,t){return n===t?gt:ft(n)>=ft(t)?n>0?ot:st:t>0?ht:ct}function ti(n,t,i){i||(i=ar);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function yi(n,t,i){i||(i=ar);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.atan2(u,r)*180/Math.PI}function du(n,t){return yi(t[1],t[0],ni)-yi(n[1],n[0],ni)}function gu(n,t){return ti(t[0],t[1],ni)/ti(n[0],n[1],ni)}function ii(){this.evEl=tf;this.evWin=rf;this.allow=!0;this.pressed=!1;s.apply(this,arguments)}function pi(){this.evEl=wr;this.evWin=br;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function kr(){this.evTarget=of;this.evWin=sf;this.started=!1;s.apply(this,arguments)}function hf(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=sr(i.concat(r),"identifier",!0)),[i,r]}function ri(){this.evTarget=gr;this.targetIds={};s.apply(this,arguments)}function cf(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|g)&&r.length===1)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return or(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[sr(s.concat(c),"identifier",!0),c]}function wi(){s.apply(this,arguments);var n=li(this.handler,this);this.touch=new ri(this.manager,n);this.mouse=new ii(this.manager,n)}function ki(n,t){this.manager=n;this.set(t)}function lf(n){if(d(n,lt))return lt;var t=d(n,at),i=d(n,vt);return t&&i?at+" "+vt:t||i?t?at:vt:d(n,bi)?bi:ru}function p(n){this.id=hu();this.manager=null;this.options=ci(n||{},this.defaults);this.options.enable=er(this.options.enable,!0);this.state=ui;this.simultaneous={};this.requireFail=[]}function af(n){return n&yt?"cancel":n&w?"end":n&ut?"move":n&h?"start":""}function uu(n){return n==ct?"down":n==ht?"up":n==ot?"left":n==st?"right":""}function fi(n,t){var i=t.manager;return i?i.get(n):n}function c(){p.apply(this,arguments)}function ei(){c.apply(this,arguments);this.pX=null;this.pY=null}function di(){c.apply(this,arguments)}function gi(){p.apply(this,arguments);this._timer=null;this._input=null}function nr(){c.apply(this,arguments)}function tr(){c.apply(this,arguments)}function oi(){p.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function b(n,t){return t=t||{},t.recognizers=er(t.recognizers,b.defaults.preset),new rr(n,t)}function rr(n,t){t=t||{};this.options=ci(t,b.defaults);this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.element=n;this.input=vu(this);this.touchAction=new ki(this,this.options.touchAction);eu(this,!0);v(t.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function eu(n,t){var i=n.element;v(n.options.cssProps,function(n,r){i.style[dt(i.style,r)]=t?n:""})}function vf(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var ur=["","webkit","moz","MS","ms","o"],ou=t.createElement("div"),fr="function",tt=Math.round,ft=Math.abs,si=Date.now,su=1,cr="ontouchstart"in n,cu=dt(n,"PointerEvent")!==r,lu=cr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),et="touch",vi="mouse",au=25,f=1,g=2,u=4,e=8,gt=1,ot=2,st=4,ht=8,ct=16,l=ot|st,nt=ht|ct,lr=l|nt,ar=["x","y"],ni=["clientX","clientY"],dr,gr,fu,ir;s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(hr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(hr(this.element),this.evWin,this.domHandler)}};var nf={mousedown:f,mousemove:g,mouseup:u},tf="mousedown",rf="mousemove mouseup";o(ii,s,{handler:function(n){var t=nf[n.type];(t&f&&n.button===0&&(this.pressed=!0),t&g&&n.which!==1&&(t=u),this.pressed&&this.allow)&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:vi,srcEvent:n}))}});var uf={pointerdown:f,pointermove:g,pointerup:u,pointercancel:e,pointerout:e},ff={2:et,3:"pen",4:vi,5:"kinect"},wr="pointerdown",br="pointermove pointerup pointercancel";n.MSPointerEvent&&(wr="MSPointerDown",br="MSPointerMove MSPointerUp MSPointerCancel");o(pi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=uf[h],s=ff[n.pointerType]||n.pointerType,c=s==et,i=rt(t,n.pointerId,"pointerId");(r&f&&(n.button===0||c)?i<0&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0),i<0)||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var ef={touchstart:f,touchmove:g,touchend:u,touchcancel:e},of="touchstart",sf="touchstart touchmove touchend touchcancel";o(kr,s,{handler:function(n){var i=ef[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=hf.call(this,n,i),i&(u|e)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n}))}});dr={touchstart:f,touchmove:g,touchend:u,touchcancel:e};gr="touchstart touchmove touchend touchcancel";o(ri,s,{handler:function(n){var i=dr[n.type],t=cf.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n})}});o(wi,s,{handler:function(n,t,i){var r=i.pointerType==et,f=i.pointerType==vi;if(r)this.mouse.allow=!1;else if(f&&!this.mouse.allow)return;t&(u|e)&&(this.mouse.allow=!0);this.callback(n,t,i)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var nu=dt(ou.style,"touchAction"),tu=nu!==r,iu="compute",ru="auto",bi="manipulation",lt="none",at="pan-x",vt="pan-y";ki.prototype={set:function(n){n==iu&&(n=this.compute());tu&&(this.manager.element.style[nu]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){ai(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),lf(n.join(" "))},preventDefaults:function(n){var t,i;if(!tu){if(t=n.srcEvent,i=n.offsetDirection,this.manager.session.prevented){t.preventDefault();return}var r=this.actions,u=d(r,lt),f=d(r,vt),e=d(r,at);if(u||f&&i&l||e&&i&nt)return this.preventSrc(t)}},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var ui=1,h=2,ut=4,w=8,y=w,yt=16,a=32;p.prototype={defaults:{},set:function(n){return k(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(it(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=fi(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return it(n,"dropRecognizeWith",this)?this:(n=fi(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(it(n,"requireFailure",this))return this;var t=this.requireFail;return n=fi(n,this),rt(t,n)===-1&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(it(n,"dropRequireFailure",this))return this;n=fi(n,this);var t=rt(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function i(i){r.manager.emit(r.options.event+(i?af(t):""),n)}var r=this,t=this.state;t<w&&i(!0);i();t>=w&&i(!0)},tryEmit:function(n){if(this.canEmit())return this.emit(n);this.state=a},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|ui)))return!1;n++}return!0},recognize:function(n){var t=k({},n);if(!ai(this.options.enable,[this,t])){this.reset();this.state=a;return}this.state&(y|yt|a)&&(this.state=ui);this.state=this.process(t);this.state&(h|ut|w|yt)&&this.tryEmit(t)},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,p,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return t===0||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|ut),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|w:(t&h)?t|ut:h:a}});o(ei,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:lr},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&nt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=f===0?gt:f<0?ot:st,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=e===0?gt:e<0?ht:ct,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=uu(n.direction);t&&this.manager.emit(this.options.event+t,n);this._super.emit.call(this,n)}});o(di,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(this._super.emit.call(this,n),n.scale!==1){var t=n.scale<1?"in":"out";this.manager.emit(this.options.event+t,n)}}});o(gi,p,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[ru]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=hi(function(){this.state=y;this.tryEmit()},t.time,this);else if(n.eventType&u)return y;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===y&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=si(),this.manager.emit(this.options.event,this._input)))}});o(nr,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(tr,c,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:l|nt,pointers:1},getTouchAction:function(){return ei.prototype.getTouchAction.call(this)},attrTest:function(n){var t=this.options.direction,i;return t&(l|nt)?i=n.velocity:t&l?i=n.velocityX:t&nt&&(i=n.velocityY),this._super.attrTest.call(this,n)&&t&n.direction&&n.distance>this.options.threshold&&ft(i)>this.options.velocity&&n.eventType&u},emit:function(n){var t=uu(n.direction);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(oi,p,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[bi]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&this.count===0)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||ti(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,e===0)return this.hasRequireFailures()?(this._timer=hi(function(){this.state=y;this.tryEmit()},t.interval,this),h):y}return a},failTimeout:function(){return this._timer=hi(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==y&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});b.VERSION="2.0.4";b.defaults={domEvents:!1,touchAction:iu,enable:!0,inputTarget:null,inputClass:null,preset:[[nr,{enable:!1}],[di,{enable:!1},["rotate"]],[tr,{direction:l}],[ei,{direction:l},["swipe"]],[oi],[oi,{event:"doubletap",taps:2},["tap"]],[gi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};fu=1;ir=2;rr.prototype={set:function(n){return k(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?ir:fu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&y)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped!==ir&&(!t||i==t||i.canRecognizeWith(t))?i.recognize(n):i.reset(),!t&&i.state&(h|ut|w)&&(t=r.curRecognizer=i),u++},get:function(n){var i,t;if(n instanceof p)return n;for(i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(it(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(it(n,"remove",this))return this;var t=this.recognizers;return n=this.get(n),t.splice(rt(t,n),1),this.touchAction.update(),this},on:function(n,t){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this},off:function(n,t){var i=this.handlers;return v(bt(n),function(n){t?i[n].splice(rt(i[n],t),1):delete i[n]}),this},emit:function(n,t){var i,r;if(this.options.domEvents&&vf(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&eu(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};k(b,{INPUT_START:f,INPUT_MOVE:g,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:ui,STATE_BEGAN:h,STATE_CHANGED:ut,STATE_ENDED:w,STATE_RECOGNIZED:y,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:gt,DIRECTION_LEFT:ot,DIRECTION_RIGHT:st,DIRECTION_UP:ht,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:nt,DIRECTION_ALL:lr,Manager:rr,Input:s,TouchAction:ki,TouchInput:ri,MouseInput:ii,PointerEventInput:pi,TouchMouseInput:wi,SingleTouchInput:kr,Recognizer:p,AttrRecognizer:c,Tap:oi,Pan:ei,Swipe:tr,Pinch:di,Rotate:nr,Press:gi,on:pt,off:wt,each:v,merge:ci,extend:k,inherit:o,bindFn:li,prefixed:dt});typeof define==fr&&define.amd?define(function(){return b}):typeof module!="undefined"&&module.exports?module.exports=b:n[i]=b})(window,document,"Hammer");
//# sourceMappingURL=hammer.min.js.map
