(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n,t){function ot(n){function u(){t?(r(),et(u),i=!0,t=!1):i=!1}var r=n,t=!1,i=!1;this.kick=function(){t=!0;i||u()};this.end=function(n){var u=r;n&&(i?(r=t?function(){u();n()}:n,t=!0):n())}}function st(){return!0}function c(){return!1}function l(n){n.preventDefault()}function a(n){h[n.target.tagName.toLowerCase()]||n.preventDefault()}function ht(n){return n.which===1&&!n.ctrlKey&&!n.altKey}function o(n,t){var i,r;if(n.identifiedTouch)return n.identifiedTouch(t);for(i=-1,r=n.length;++i<r;)if(n[i].identifier===t)return n[i]}function v(n,t){var i=o(n.changedTouches,t.identifier);if(i)return i.pageX===t.pageX&&i.pageY===t.pageY?void 0:i}function ct(n){var t;ht(n)&&(t={target:n.target,startX:n.pageX,startY:n.pageY,timeStamp:n.timeStamp},i(document,u.move,y,t),i(document,u.cancel,p,t))}function y(n){var t=n.data;g(n,t,n,w)}function p(){w()}function w(){r(document,u.move,y);r(document,u.cancel,p)}function lt(n){var t,r;h[n.target.tagName.toLowerCase()]||(t=n.changedTouches[0],r={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:n.timeStamp,identifier:t.identifier},i(document,f.move+"."+t.identifier,b,r),i(document,f.cancel+"."+t.identifier,k,r))}function b(n){var t=n.data,i=v(n,t);i&&g(n,t,i,d)}function k(n){var t=n.data,i=o(n.changedTouches,t.identifier);i&&d(t.identifier)}function d(n){r(document,"."+n,b);r(document,"."+n,k)}function g(n,t,i,r){var u=i.pageX-t.startX,f=i.pageY-t.startY;u*u+f*f<s*s||vt(n,t,i,u,f,r)}function at(){return this._handled=st,!1}function nt(n){n._handled()}function vt(n,t,i,r,u,f){var h=t.target,o,s;o=n.targetTouches;s=n.timeStamp-t.timeStamp;t.type="movestart";t.distX=r;t.distY=u;t.deltaX=r;t.deltaY=u;t.pageX=i.pageX;t.pageY=i.pageY;t.velocityX=r/s;t.velocityY=u/s;t.targetTouches=o;t.finger=o?o.length:1;t._handled=at;t._preventTouchmoveDefault=function(){n.preventDefault()};e(t.target,t);f(t.identifier)}function tt(n){var t=n.data.timer;n.data.touch=n;n.data.timeStamp=n.timeStamp;t.kick()}function it(n){var t=n.data.event,i=n.data.timer;yt();ft(t,i,function(){setTimeout(function(){r(t.target,"click",c)},0)})}function yt(){r(document,u.move,tt);r(document,u.end,it)}function rt(n){var t=n.data.event,r=n.data.timer,i=v(n,t);i&&(n.preventDefault(),t.targetTouches=n.targetTouches,n.data.touch=i,n.data.timeStamp=n.timeStamp,r.kick())}function ut(n){var t=n.data.event,i=n.data.timer,r=o(n.changedTouches,t.identifier);r&&(pt(t),ft(t,i))}function pt(n){r(document,"."+n.identifier,rt);r(document,"."+n.identifier,ut)}function wt(n,t,i){var r=i-n.timeStamp;n.type="move";n.distX=t.pageX-n.startX;n.distY=t.pageY-n.startY;n.deltaX=t.pageX-n.pageX;n.deltaY=t.pageY-n.pageY;n.velocityX=.3*n.velocityX+.7*n.deltaX/r;n.velocityY=.3*n.velocityY+.7*n.deltaY/r;n.pageX=t.pageX;n.pageY=t.pageY}function ft(n,t,i){t.end(function(){return n.type="moveend",e(n.target,n),i&&i()})}function bt(){return i(this,"movestart.move",nt),!0}function kt(){return r(this,"dragstart drag",l),r(this,"mousedown touchstart",a),r(this,"movestart",nt),!0}function dt(n){n.namespace!=="move"&&n.namespace!=="moveend"&&(i(this,"dragstart."+n.guid+" drag."+n.guid,l,t,n.selector),i(this,"mousedown."+n.guid,a,t,n.selector))}function gt(n){n.namespace!=="move"&&n.namespace!=="moveend"&&(r(this,"dragstart."+n.guid+" drag."+n.guid),r(this,"mousedown."+n.guid))}var s=6,i=n.event.add,r=n.event.remove,e=function(t,i,r){n.event.trigger(i,r,t)},et=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(function(){n()},25)}}(),h={textarea:!0,input:!0,select:!0,button:!0},u={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},f={move:"touchmove",cancel:"touchend",end:"touchend"};n.event.special.movestart={setup:bt,teardown:kt,add:dt,remove:gt,_default:function(n){function s(){wt(o,r.touch,r.timeStamp);e(n.target,o)}var o,r;n._handled()&&(o={target:n.target,startX:n.startX,startY:n.startY,pageX:n.pageX,pageY:n.pageY,distX:n.distX,distY:n.distY,deltaX:n.deltaX,deltaY:n.deltaY,velocityX:n.velocityX,velocityY:n.velocityY,timeStamp:n.timeStamp,identifier:n.identifier,targetTouches:n.targetTouches,finger:n.finger},r={event:o,timer:new ot(s),touch:t,timeStamp:t},n.identifier===t?(i(n.target,"click",c),i(document,u.move,tt,r),i(document,u.end,it,r)):(n._preventTouchmoveDefault(),i(document,f.move+"."+n.identifier,rt,r),i(document,f.end+"."+n.identifier,ut,r)))}};n.event.special.move={setup:function(){i(this,"movestart.move",n.noop)},teardown:function(){r(this,"movestart.move",n.noop)}};n.event.special.moveend={setup:function(){i(this,"movestart.moveend",n.noop)},teardown:function(){r(this,"movestart.moveend",n.noop)}};i(document,"mousedown.move",ct);i(document,"touchstart.move",lt);typeof Array.prototype.indexOf=="function"&&function(n){for(var t=["changedTouches","targetTouches"],i=t.length;i--;)n.event.props.indexOf(t[i])===-1&&n.event.props.push(t[i])}(n)});
//# sourceMappingURL=jquery.event.move.min.js.map
